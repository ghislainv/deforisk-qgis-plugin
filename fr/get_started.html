
<!DOCTYPE html>


<html lang="fr" data-content_root="./" data-theme="light">

  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="viewport" content="width=device-width, initial-scale=1" />

    <title>Commencer &#8212; deforisk — Create and compare deforestation risk maps</title>
  
  
  
  <script data-cfasync="false">
    document.documentElement.dataset.mode = localStorage.getItem("mode") || "light";
    document.documentElement.dataset.theme = localStorage.getItem("theme") || "light";
  </script>
  <!--
    this give us a css class that will be invisible only if js is disabled
  -->
  <noscript>
    <style>
      .pst-js-only { display: none !important; }

    </style>
  </noscript>
  
  <!-- Loaded before other Sphinx assets -->
  <link href="_static/styles/theme.css?digest=8878045cc6db502f8baf" rel="stylesheet" />
<link href="_static/styles/pydata-sphinx-theme.css?digest=8878045cc6db502f8baf" rel="stylesheet" />

    <link rel="stylesheet" type="text/css" href="_static/pygments.css?v=8f2a1f02" />
  
  <!-- So that users can add custom icons -->
  <script src="_static/scripts/fontawesome.js?digest=8878045cc6db502f8baf"></script>
  <!-- Pre-loaded scripts that we'll load fully later -->
  <link rel="preload" as="script" href="_static/scripts/bootstrap.js?digest=8878045cc6db502f8baf" />
<link rel="preload" as="script" href="_static/scripts/pydata-sphinx-theme.js?digest=8878045cc6db502f8baf" />

    <script src="_static/documentation_options.js?v=640c812e"></script>
    <script src="_static/doctools.js?v=9bcbadda"></script>
    <script src="_static/sphinx_highlight.js?v=dc90522c"></script>
    <script src="_static/translations.js?v=e6b791cb"></script>
    <script async="async" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
    <script>DOCUMENTATION_OPTIONS.pagename = 'get_started';</script>
    <link rel="canonical" href="https://deforisk-qgis-plugin.org/get_started.html" />
    <link rel="icon" href="_static/favicon.ico"/>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Recherche" href="search.html" />
    <link rel="next" title="Articles" href="articles.html" />
    <link rel="prev" title="Installation" href="installation.html" />
  <meta name="viewport" content="width=device-width, initial-scale=1"/>
  <meta name="docsearch:language" content="fr"/>
  <meta name="docsearch:version" content="" />
  </head>
  
  
  <body data-bs-spy="scroll" data-bs-target=".bd-toc-nav" data-offset="180" data-bs-root-margin="0px 0px -60%" data-default-mode="light">

  
  
  <div id="pst-skip-link" class="skip-link d-print-none"><a href="#main-content">Passer au contenu principal</a></div>
  
  <div id="pst-scroll-pixel-helper"></div>
  
  <button type="button" class="btn rounded-pill" id="pst-back-to-top">
    <i class="fa-solid fa-arrow-up"></i>Haut de page</button>

  
  <dialog id="pst-search-dialog">
    
<form class="bd-search d-flex align-items-center"
      action="search.html"
      method="get">
  <i class="fa-solid fa-magnifying-glass"></i>
  <input type="search"
         class="form-control"
         name="q"
         placeholder="Search the docs ..."
         aria-label="Search the docs ..."
         autocomplete="off"
         autocorrect="off"
         autocapitalize="off"
         spellcheck="false"/>
  <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd>K</kbd></span>
</form>
  </dialog>

  <div class="pst-async-banner-revealer d-none">
  <aside id="bd-header-version-warning" class="d-none d-print-none" aria-label="Alerte de version"></aside>
</div>

  
    <header class="bd-header navbar navbar-expand-lg bd-navbar d-print-none">
<div class="bd-header__inner bd-page-width">
  <button class="pst-navbar-icon sidebar-toggle primary-toggle" aria-label="Navigation dans le site">
    <span class="fa-solid fa-bars"></span>
  </button>
  
  
  <div class="col-lg-3 navbar-header-items__start">
    
      <div class="navbar-item">

  
    
  

<a class="navbar-brand logo" href="index.html">
  
  
  
  
  
    
    
    
    <img src="_static/logo-deforisk.png" class="logo__image only-light" alt=""/>
    <img src="_static/logo-deforisk.png" class="logo__image only-dark pst-js-only" alt=""/>
  
  
    <p class="title logo__title">deforisk QGIS plugin</p>
  
</a></div>
    
  </div>
  
  <div class="col-lg-9 navbar-header-items">
    
    <div class="me-auto navbar-header-items__center">
      
        <div class="navbar-item">
<nav>
  <ul class="bd-navbar-elements navbar-nav">
    
<li class="nav-item ">
  <a class="nav-link nav-internal" href="index.html">
    Accueil
  </a>
</li>


<li class="nav-item ">
  <a class="nav-link nav-internal" href="installation.html">
    Installation
  </a>
</li>


<li class="nav-item current active">
  <a class="nav-link nav-internal" href="#">
    Commencer
  </a>
</li>


<li class="nav-item ">
  <a class="nav-link nav-internal" href="articles.html">
    Articles
  </a>
</li>


<li class="nav-item ">
  <a class="nav-link nav-internal" href="plugin_api.html">
    API du plugin
  </a>
</li>

            <li class="nav-item dropdown">
                <button class="btn dropdown-toggle nav-item" type="button"
                data-bs-toggle="dropdown" aria-expanded="false"
                aria-controls="pst-nav-more-links">
                    More
                </button>
                <ul id="pst-nav-more-links" class="dropdown-menu">
                    
<li class=" ">
  <a class="nav-link dropdown-item nav-internal" href="contributing/changelog.html">
    Journal des modifications
  </a>
</li>


<li class=" ">
  <a class="nav-link dropdown-item nav-internal" href="contributing/community_guidelines.html">
    Charte communautaire
  </a>
</li>


<li class=" ">
  <a class="nav-link dropdown-item nav-internal" href="contributing/code_of_conduct.html">
    Code de conduite
  </a>
</li>


<li class=" ">
  <a class="nav-link dropdown-item nav-internal" href="contributing/license.html">
    Licence
  </a>
</li>

                </ul>
            </li>
            
  </ul>
</nav></div>
      
    </div>
    
    
    <div class="navbar-header-items__end">
      
        <div class="navbar-item navbar-persistent--container">
          

<button class="btn search-button-field search-button__button pst-js-only" title="Recherche" aria-label="Recherche" data-bs-placement="bottom" data-bs-toggle="tooltip">
 <i class="fa-solid fa-magnifying-glass"></i>
 <span class="search-button__default-text">Recherche</span>
 <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd class="kbd-shortcut__modifier">K</kbd></span>
</button>
        </div>
      
      
        <div class="navbar-item"><ul class="navbar-icon-links"
    aria-label="Icon Links">
        <li class="nav-item">
          
          
          
          
          
          
          
          
          <a href="https://github.com/ghislainv/deforisk-qgis-plugin" title="GitHub" class="nav-link pst-navbar-icon" rel="noopener" target="_blank" data-bs-toggle="tooltip" data-bs-placement="bottom"><i class="fa-brands fa-github fa-lg" aria-hidden="true"></i>
            <span class="sr-only">GitHub</span></a>
        </li>
        <li class="nav-item">
          
          
          
          
          
          
          
          
          <a href="https://www.qgis.org/" title="QGIS" class="nav-link pst-navbar-icon" rel="noopener" target="_blank" data-bs-toggle="tooltip" data-bs-placement="bottom"><img src="_static/icon_qgis.png" class="icon-link-image" alt="QGIS"/></a>
        </li>
</ul></div>
      
    </div>
    
  </div>
  
  
    <div class="navbar-persistent--mobile">

<button class="btn search-button-field search-button__button pst-js-only" title="Recherche" aria-label="Recherche" data-bs-placement="bottom" data-bs-toggle="tooltip">
 <i class="fa-solid fa-magnifying-glass"></i>
 <span class="search-button__default-text">Recherche</span>
 <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd class="kbd-shortcut__modifier">K</kbd></span>
</button>
    </div>
  

  
    <button class="pst-navbar-icon sidebar-toggle secondary-toggle" aria-label="Sur cette page">
      <span class="fa-solid fa-outdent"></span>
    </button>
  
</div>

    </header>
  

  <div class="bd-container">
    <div class="bd-container__inner bd-page-width">
      
      
      
      <dialog id="pst-primary-sidebar-modal"></dialog>
      <div id="pst-primary-sidebar" class="bd-sidebar-primary bd-sidebar hide-on-wide">
        

  
  <div class="sidebar-header-items sidebar-primary__section">
    
    
      <div class="sidebar-header-items__center">
        
          
          
            <div class="navbar-item">
<nav>
  <ul class="bd-navbar-elements navbar-nav">
    
<li class="nav-item ">
  <a class="nav-link nav-internal" href="index.html">
    Accueil
  </a>
</li>


<li class="nav-item ">
  <a class="nav-link nav-internal" href="installation.html">
    Installation
  </a>
</li>


<li class="nav-item current active">
  <a class="nav-link nav-internal" href="#">
    Commencer
  </a>
</li>


<li class="nav-item ">
  <a class="nav-link nav-internal" href="articles.html">
    Articles
  </a>
</li>


<li class="nav-item ">
  <a class="nav-link nav-internal" href="plugin_api.html">
    API du plugin
  </a>
</li>


<li class="nav-item ">
  <a class="nav-link nav-internal" href="contributing/changelog.html">
    Journal des modifications
  </a>
</li>


<li class="nav-item ">
  <a class="nav-link nav-internal" href="contributing/community_guidelines.html">
    Charte communautaire
  </a>
</li>


<li class="nav-item ">
  <a class="nav-link nav-internal" href="contributing/code_of_conduct.html">
    Code de conduite
  </a>
</li>


<li class="nav-item ">
  <a class="nav-link nav-internal" href="contributing/license.html">
    Licence
  </a>
</li>

  </ul>
</nav></div>
          
        
      </div>
    
    
    
      <div class="sidebar-header-items__end">
        
          <div class="navbar-item"><ul class="navbar-icon-links"
    aria-label="Icon Links">
        <li class="nav-item">
          
          
          
          
          
          
          
          
          <a href="https://github.com/ghislainv/deforisk-qgis-plugin" title="GitHub" class="nav-link pst-navbar-icon" rel="noopener" target="_blank" data-bs-toggle="tooltip" data-bs-placement="bottom"><i class="fa-brands fa-github fa-lg" aria-hidden="true"></i>
            <span class="sr-only">GitHub</span></a>
        </li>
        <li class="nav-item">
          
          
          
          
          
          
          
          
          <a href="https://www.qgis.org/" title="QGIS" class="nav-link pst-navbar-icon" rel="noopener" target="_blank" data-bs-toggle="tooltip" data-bs-placement="bottom"><img src="_static/icon_qgis.png" class="icon-link-image" alt="QGIS"/></a>
        </li>
</ul></div>
        
      </div>
    
  </div>
  
  
  <div class="sidebar-primary-items__end sidebar-primary__section">
      <div class="sidebar-primary-item">
<div id="ethical-ad-placement"
      class="flat"
      data-ea-publisher="readthedocs"
      data-ea-type="readthedocs-sidebar"
      data-ea-manual="true">
</div></div>
  </div>


      </div>
      
      <main id="main-content" class="bd-main" role="main">
        
        
          <div class="bd-content">
            <div class="bd-article-container">
              
              <div class="bd-header-article d-print-none">
<div class="header-article-items header-article__inner">
  
    <div class="header-article-items__start">
      
        <div class="header-article-item">

<nav aria-label="Fil d'Ariane" class="d-print-none">
  <ul class="bd-breadcrumbs">
    
    <li class="breadcrumb-item breadcrumb-home">
      <a href="index.html" class="nav-link" aria-label="Accueil">
        <i class="fa-solid fa-home"></i>
      </a>
    </li>
    <li class="breadcrumb-item active" aria-current="page"><span class="ellipsis">Commencer</span></li>
  </ul>
</nav>
</div>
      
    </div>
  
  
</div>
</div>
              
              
              
                
<div id="searchbox"></div>
                <article class="bd-article">
                  
  <section id="get-started">
<h1>Commencer<a class="headerlink" href="#get-started" title="Lien vers cette rubrique">#</a></h1>
<section id="introduction">
<h2>Introduction<a class="headerlink" href="#introduction" title="Lien vers cette rubrique">#</a></h2>
<p>Ouvrez QGIS sur votre ordinateur. Pour avoir accès aux messages du journal, activez le panneau « Journal des messages » dans QGIS en allant à <code class="docutils literal notranslate"><span class="pre">Vue</span> <span class="pre">&gt;</span> <span class="pre">Panneau</span> <span class="pre">&gt;</span> <span class="pre">Journal</span> <span class="pre">des</span> <span class="pre">messages</span></code> dans le Menu. Lorsque vous utilisez un plugin, c’est aussi une bonne habitude d’ouvrir la console Python dans QGIS pour avoir accès aux messages Python retournés dans la console. Pour l’ouvrir, cliquez sur l’icône Python <img alt="ico_py" class="no-scaled-link" src="_images/icon_python_console_toolbar.png" /> dans la barre d’outils « Extensions ». Si la barre d’outils n’est pas visible, activez-la en allant dans <code class="docutils literal notranslate"><span class="pre">Vue</span> <span class="pre">&gt;</span> <span class="pre">Barres</span> <span class="pre">d'outils</span> <span class="pre">&gt;</span> <span class="pre">Extensions</span></code> dans le menu.</p>
<p>Une fois le plugin installé (voir les instructions d”<a class="reference external" href="installation.html">installation</a>), ouvrez le plugin en cliquant sur son icône <img alt="ico_deforisk" class="no-scaled-link" src="_images/icon_deforisk_toolbar.png" />. Vous devriez voir les versions des dépendances installées dans votre environnement écrites dans la console Python. Vérifiez que ces numéros de version correspondent à la dernière version de chaque dépendance. Sinon, mettez à jour les dépendances.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">osmconvert</span> <span class="mf">0.8.10</span>
<span class="n">osmfilter</span> <span class="mf">1.4.4</span>
<span class="n">geefcc</span> <span class="mf">0.1.3</span>
<span class="n">pywdpa</span> <span class="mf">0.1.6</span>
<span class="n">forestatrisk</span> <span class="mf">1.2</span>
<span class="n">riskmapjnr</span> <span class="mf">1.3</span>
</pre></div>
</div>
<p>Pour tester le plugin et avoir un premier aperçu de ses fonctionnalités, essayez-le sur une petite zone d’intérêt (AOI) telle que l’île <a class="reference external" href="https://en.wikipedia.org/wiki/Martinique">Martinique</a> (1128 km<sup>2</sup>) qui a le code iso MTQ. Tester le plugin sur une petite AOI a l’avantage de rendre les calculs rapides afin que vous puissiez voir directement les sorties, interpréter les résultats et comprendre le fonctionnement du plugin.</p>
<p>Pour mieux comprendre les différentes étapes, il faut garder à l’esprit que nous considérons différentes périodes et dates pour la calibration et la validation des modèles.</p>
<figure class="align-default" id="id8">
<a class="reference internal image-reference" href="_images/periods.png"><img alt="_images/periods.png" src="_images/periods.png" style="width: 700px;" />
</a>
<figcaption>
<p><span class="caption-text">Dates et périodes utilisées pour calibrer et valider les modèles. Modifié à partir de <a class="reference external" href="https://verra.org/methodologies/vt0007-unplanned-deforestation-allocation-udef-a-v1-0/">Verra’s VT0007</a>. Dans notre cas, nous avons renommé la période allant de t2 à t3 « période de validation » au lieu de « période de confirmation ».</span><a class="headerlink" href="#id8" title="Lien vers cette image">#</a></p>
</figcaption>
</figure>
</section>
<section id="get-variables">
<h2>Get variables<a class="headerlink" href="#get-variables" title="Lien vers cette rubrique">#</a></h2>
<img alt="_images/interface-variables.png" src="_images/interface-variables.png" />
<p><br/></p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">Working</span> <span class="pre">directory</span></code> : Répertoire de travail. Sélectionnez votre répertoire de travail. Ici <code class="docutils literal notranslate"><span class="pre">/home/&lt;username&gt;/deforisk/MTQ-tuto</span></code>, mais cela pourrait être <code class="docutils literal notranslate"><span class="pre">C:\Users\&lt;username&gt;\deforisk\MTQ-tuto</span></code> sur Windows par exemple.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">Area</span> <span class="pre">Of</span> <span class="pre">Interest</span></code> : Zone d’étude cible. MTQ</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">Years</span></code> : Années. 2000, 2010, 2020</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">Forest</span> <span class="pre">data</span> <span class="pre">source</span></code> : Source de données forestières. tmf</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">Tree</span> <span class="pre">cover</span> <span class="pre">threshold</span> <span class="pre">(%)</span></code> : Seuil de couverture arborée. 50 (peut être laissé vide, pas utile ici pour la source de données tmf)</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">Tile</span> <span class="pre">size</span> <span class="pre">(dd)</span></code> : Taille de la tuile. 1</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">Country/state</span> <span class="pre">ISO</span> <span class="pre">code</span></code> : Code ISO du pays/de l’état, MTQ</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">Earth</span> <span class="pre">Engine</span> <span class="pre">access</span></code> : Nom du projet Google Cloud avec accès à Earth Engine ou chemin d’accès à un fichier de clé privée JSON pour le compte de service.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">WDPA</span> <span class="pre">access</span></code> : Clé d’API WDPA personnelle ou chemin d’accès à un fichier texte avec la variable environnementale WDPA_KEY.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">Projection</span> <span class="pre">EPSG</span> <span class="pre">code</span></code> : Code EPSG de la projection. EPSG:5490</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">Only</span> <span class="pre">compute</span> <span class="pre">forest</span> <span class="pre">variables</span></code> : Calculer uniquement les variables forestières. <strong>non coché</strong>, les données seront téléchargées à partir de jeux de données globaux (SRTM, WDPA, OSM) et les variables explicatives autres que les variables liées à la forêt seront calculées.</p></li>
</ul>
<div class="admonition warning">
<p class="admonition-title">Avertissement</p>
<p>Pour les utilisateurs de Windows, choisissez un répertoire de travail avec un chemin court (par exemple <code class="docutils literal notranslate"><span class="pre">C:\Users\&lt;username&gt;\&lt;dirname&gt;</span></code>). Les longs chemins d’accès aux fichiers peuvent poser des problèmes d’accès aux fichiers sous Windows.</p>
</div>
<p>Cliquez sur le bouton <code class="docutils literal notranslate"><span class="pre">Run</span></code>. Une carte des changements du couvert forestier apparaît dans la liste des couches de QGIS (voir l’image ci-dessous et cliquer pour l’agrandir) et une figure représentant le changement du couvert forestier <code class="docutils literal notranslate"><span class="pre">fcc123.png</span></code> est créée dans le dossier <code class="docutils literal notranslate"><span class="pre">outputs/variables</span></code>. De nouveaux dossiers sont créés dans le répertoire de travail, dont le dossier <cite>data_raw</cite> qui contient les données brutes avec les fichiers intermédiaires et le dossier <cite>data</cite> qui contient les données traitées utilisées pour les modèles et les traces. Vous pouvez visualiser le réseau routier par exemple en ajoutant le fichier vectoriel <code class="docutils literal notranslate"><span class="pre">roads_proj.shp</span></code>, qui est situé dans le répertoire <code class="docutils literal notranslate"><span class="pre">data_raw</span></code>, dans QGIS.</p>
<a class="reference internal image-reference" href="_images/qgis-variables-results.png"><img alt="_images/qgis-variables-results.png" src="_images/qgis-variables-results.png" style="width: 650px;" />
</a>
<p><br/></p>
<p>Si vous souhaitez sauter cette étape, vous pouvez télécharger un fichier <a class="reference external" href="./_static/tutos/MTQ-tuto.zip">zip comprenant toutes les données de l’exemple MTQ</a>.</p>
</section>
<section id="benchmark-model">
<h2>Modèle de référence<a class="headerlink" href="#benchmark-model" title="Lien vers cette rubrique">#</a></h2>
<img alt="_images/interface-benchmark.png" src="_images/interface-benchmark.png" />
<section id="fit-model-to-data">
<h3>Ajuster le modèle aux données<a class="headerlink" href="#fit-model-to-data" title="Lien vers cette rubrique">#</a></h3>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">Deforestation</span> <span class="pre">threshold</span> <span class="pre">(%)</span></code>: 99.5</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">Max.</span> <span class="pre">distance</span> <span class="pre">to</span> <span class="pre">forest</span> <span class="pre">edge</span> <span class="pre">(m)</span></code>: 2500</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">calib.</span> <span class="pre">period</span></code> : Si cette case est cochée, le modèle est ajusté sur la période d’étalonnage (t1–t2).</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">hist.</span> <span class="pre">period</span></code> : Si cette case est cochée, le modèle est ajusté sur la période historique (t1–t3).</p></li>
</ul>
<p>Cliquez sur le bouton <code class="docutils literal notranslate"><span class="pre">Run</span></code> pour estimer le risque de déforestation avec le modèle de référence et prédire le risque de déforestation à t1 en utilisant les données de la période de calibration et de la période historique. Les cartes comportant des classes de risque de déforestation sont ajoutées à la liste des couches QGIS (voir l’image ci-dessous).</p>
<a class="reference internal image-reference" href="_images/qgis-benchmark-results.png"><img alt="_images/qgis-benchmark-results.png" src="_images/qgis-benchmark-results.png" style="width: 650px;" />
</a>
<p><br/></p>
<p>De nouveaux dossiers contenant les résultats sont créés dans le répertoire <code class="docutils literal notranslate"><span class="pre">outputs/rmj_benchmark/</span></code> pour chaque période. En particulier, les dossiers de sortie comprennent le fichier <code class="docutils literal notranslate"><span class="pre">&lt;period&gt;/perc_dist.png</span></code>. Ce fichier montre la figure de la déforestation cumulée en fonction de la distance à la lisière de la forêt et indique le seuil de distance (ici 240 m pour la période de calibration).</p>
<figure class="align-default" id="id9">
<span id="fig-perc-dist"></span><a class="reference internal image-reference" href="_images/perc_dist.png"><img alt="_images/perc_dist.png" src="_images/perc_dist.png" style="width: 600px;" />
</a>
<figcaption>
<p><span class="caption-text">Seuil de distance pour la période de calibration.</span><a class="headerlink" href="#id9" title="Lien vers cette image">#</a></p>
</figcaption>
</figure>
<p>Les dossiers de sortie comprennent également le tableau <code class="docutils literal notranslate"><span class="pre">&lt;period&gt;/defrate_cat_bm_&lt;period&gt;.csv</span></code> qui montre les taux de déforestation pour chaque classe de risque de déforestation (voir les détails <a class="reference external" href="plugin_api.html#defrate-table">ici</a>).</p>
<div class="pst-scrollable-table-container"><table class="table" id="tab-defrate">
<caption><span class="caption-text">Taux de déforestation pour chaque classe de risque de déforestation (nombres tronqués à trois chiffres après la virgule).</span><a class="headerlink" href="#tab-defrate" title="Lien vers ce tableau">#</a></caption>
<thead>
<tr class="row-odd"><th class="head"><p>cat</p></th>
<th class="head"><p>nfor</p></th>
<th class="head"><p>ndefor</p></th>
<th class="head"><p>rate_obs</p></th>
<th class="head"><p>rate_mod</p></th>
<th class="head"><p>rate_abs</p></th>
<th class="head"><p>time_interval</p></th>
<th class="head"><p>pixel_area</p></th>
<th class="head"><p>defor_dens</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>1001</p></td>
<td><p>33433</p></td>
<td><p>0</p></td>
<td><p>0.0</p></td>
<td><p>0.0</p></td>
<td><p>0.0</p></td>
<td><p>10</p></td>
<td><p>0.09</p></td>
<td><p>0.0</p></td>
</tr>
<tr class="row-odd"><td><p>1002</p></td>
<td><p>12965</p></td>
<td><p>0</p></td>
<td><p>0.0</p></td>
<td><p>0.0</p></td>
<td><p>0.0</p></td>
<td><p>10</p></td>
<td><p>0.09</p></td>
<td><p>0.0</p></td>
</tr>
<tr class="row-even"><td><p>1003</p></td>
<td><p>91686</p></td>
<td><p>19</p></td>
<td><p>2.072e-05</p></td>
<td><p>2.072e-04</p></td>
<td><p>2.072e-04</p></td>
<td><p>10</p></td>
<td><p>0.09</p></td>
<td><p>1.865e-06</p></td>
</tr>
<tr class="row-odd"><td><p>1004</p></td>
<td><p>82279</p></td>
<td><p>5</p></td>
<td><p>6.077e-06</p></td>
<td><p>6.076e-05</p></td>
<td><p>6.076e-05</p></td>
<td><p>10</p></td>
<td><p>0.09</p></td>
<td><p>5.469e-07</p></td>
</tr>
<tr class="row-even"><td><p>2001</p></td>
<td><p>1373</p></td>
<td><p>0</p></td>
<td><p>0.0</p></td>
<td><p>0.0</p></td>
<td><p>0.0</p></td>
<td><p>10</p></td>
<td><p>0.09</p></td>
<td><p>0.0</p></td>
</tr>
</tbody>
</table>
</div>
</section>
<section id="predict-the-deforestation-risk">
<h3>Prédire le risque de déforestation<a class="headerlink" href="#predict-the-deforestation-risk" title="Lien vers cette rubrique">#</a></h3>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">t2</span> <span class="pre">validation</span></code> : Coché, calcule les prédictions à t2 pour la validation (en utilisant le modèle de référence ajusté sur la période de calibration).</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">t3</span> <span class="pre">forecast</span></code> : Coché, calcule les prédictions à t3 pour les prévisions (en utilisant le modèle de référence ajusté sur la période historique).</p></li>
</ul>
<p>Cliquez sur le bouton <code class="docutils literal notranslate"><span class="pre">Run</span></code> pour prédire le risque de déforestation à t2 et t3 en utilisant le modèle de référence. Les cartes avec les classes de risque de déforestation sont ajoutées à la liste des couches QGIS et de nouveaux fichiers sont ajoutés aux dossiers de sortie.</p>
</section>
</section>
<section id="forestatrisk-models">
<h2>Modèles forestatrisk<a class="headerlink" href="#forestatrisk-models" title="Lien vers cette rubrique">#</a></h2>
<img alt="_images/interface-far.png" src="_images/interface-far.png" />
<section id="sample-observations">
<h3>Sample observations<a class="headerlink" href="#sample-observations" title="Lien vers cette rubrique">#</a></h3>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">N#</span> <span class="pre">samples</span></code>: 10000</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">Adapt</span> <span class="pre">sampling</span></code> : Coché, le nombre d’observations est proportionnel à la surface forestière.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">Random</span> <span class="pre">seed</span></code>: 1234</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">Spatial</span> <span class="pre">cell</span> <span class="pre">size</span> <span class="pre">(km)</span></code>: 2</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">calib.</span> <span class="pre">period</span></code> : Si cette case est cochée, les observations sont échantillonnées pour la période d’étalonnage (t1–t2).</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">hist.</span> <span class="pre">period</span></code> : Si cette case est cochée, les observations sont échantillonnées pour la période historique (t1–t3).</p></li>
</ul>
<div class="admonition warning">
<p class="admonition-title">Avertissement</p>
<p>Pour les grandes juridictions, afin d’éviter de calculer trop de paramètres pour les effets aléatoires spatiaux, la taille de la cellule spatiale est fixée à ~10 km.</p>
</div>
<p>En appuyant sur le bouton <code class="docutils literal notranslate"><span class="pre">Run</span></code> dans cette boîte, vous échantillonnez les observations. Lorsque l’opération est terminée, les observations échantillonnées apparaissent dans la liste des couches QGIS.</p>
<a class="reference internal image-reference" href="_images/qgis-far-sample-results.png"><img alt="_images/qgis-far-sample-results.png" src="_images/qgis-far-sample-results.png" style="width: 650px;" />
</a>
<p><br/></p>
<p>De nouveaux dossiers contenant les résultats sont créés dans le répertoire <code class="docutils literal notranslate"><span class="pre">outputs/far_models/</span></code>, y compris le fichier <code class="docutils literal notranslate"><span class="pre">&lt;period&gt;/sample.txt</span></code> qui est le jeu de données d’observations avec les valeurs des variables.</p>
<div class="pst-scrollable-table-container"><table class="table" id="tab-observations">
<caption><span class="caption-text">Cinq premières observations pour la période d’étalonnage.</span><a class="headerlink" href="#tab-observations" title="Lien vers ce tableau">#</a></caption>
<thead>
<tr class="row-odd"><th class="head"><p>altitude</p></th>
<th class="head"><p>dist_edge</p></th>
<th class="head"><p>dist_river</p></th>
<th class="head"><p>dist_road</p></th>
<th class="head"><p>dist_town</p></th>
<th class="head"><p>fcc</p></th>
<th class="head"><p>pa</p></th>
<th class="head"><p>slope</p></th>
<th class="head"><p>X</p></th>
<th class="head"><p>Y</p></th>
<th class="head"><p>cell</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>56</p></td>
<td><p>30</p></td>
<td><p>750</p></td>
<td><p>0</p></td>
<td><p>150</p></td>
<td><p>0</p></td>
<td><p>1</p></td>
<td><p>6</p></td>
<td><p>700155</p></td>
<td><p>1645545</p></td>
<td><p>63</p></td>
</tr>
<tr class="row-odd"><td><p>56</p></td>
<td><p>30</p></td>
<td><p>750</p></td>
<td><p>0</p></td>
<td><p>150</p></td>
<td><p>0</p></td>
<td><p>1</p></td>
<td><p>6</p></td>
<td><p>700185</p></td>
<td><p>1645545</p></td>
<td><p>63</p></td>
</tr>
<tr class="row-even"><td><p>100</p></td>
<td><p>30</p></td>
<td><p>875</p></td>
<td><p>0</p></td>
<td><p>1657</p></td>
<td><p>0</p></td>
<td><p>1</p></td>
<td><p>5</p></td>
<td><p>698265</p></td>
<td><p>1645425</p></td>
<td><p>62</p></td>
</tr>
<tr class="row-odd"><td><p>93</p></td>
<td><p>30</p></td>
<td><p>600</p></td>
<td><p>0</p></td>
<td><p>1358</p></td>
<td><p>0</p></td>
<td><p>1</p></td>
<td><p>8</p></td>
<td><p>698565</p></td>
<td><p>1645425</p></td>
<td><p>62</p></td>
</tr>
<tr class="row-even"><td><p>68</p></td>
<td><p>30</p></td>
<td><p>300</p></td>
<td><p>0</p></td>
<td><p>335</p></td>
<td><p>0</p></td>
<td><p>1</p></td>
<td><p>7</p></td>
<td><p>699615</p></td>
<td><p>1645425</p></td>
<td><p>63</p></td>
</tr>
</tbody>
</table>
</div>
</section>
<section id="id1">
<h3>Ajuster le modèle aux données<a class="headerlink" href="#id1" title="Lien vers cette rubrique">#</a></h3>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">List</span> <span class="pre">of</span> <span class="pre">variables</span></code> : Laisser vide, la formule par défaut sera utilisée: <code class="docutils literal notranslate"><span class="pre">C(pa)</span> <span class="pre">+</span> <span class="pre">altitude</span> <span class="pre">+</span> <span class="pre">pente</span> <span class="pre">+</span> <span class="pre">dist_edge</span> <span class="pre">+</span> <span class="pre">dist_road</span> <span class="pre">+</span> <span class="pre">dist_river</span> <span class="pre">+</span> <span class="pre">dist_town</span></code>.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">Starting</span> <span class="pre">values</span> <span class="pre">for</span> <span class="pre">betas</span></code>: -99</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">Prior</span> <span class="pre">Vrho</span></code> : -1</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">MCMC</span></code> : 100</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">Variable</span> <span class="pre">selection</span></code> : Ne pas cocher, pas de sélection de variables (accélère les calculs pour cet exemple).</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">calib.</span> <span class="pre">period</span></code> : Coché, les modèles sont ajustés sur la période de calibration (t1–t2).</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">hist.</span> <span class="pre">period</span></code> : Coché, les modèles sont ajustés sur la période historique (t1–t3).</p></li>
</ul>
<p>En appuyant sur le bouton <code class="docutils literal notranslate"><span class="pre">Run</span></code> dans cette boîte, le modèle statistique sera ajusté aux observations de déforestation. Trois modèles statistiques sont ajustés (modèle iCAR, GLM, et modèle Random Forest). De nouveaux fichiers sont ajoutés aux dossiers <code class="docutils literal notranslate"><span class="pre">outputs/far_models/calibration</span></code> et <code class="docutils literal notranslate"><span class="pre">outputs/far_models/historical</span></code>. En particulier, le fichier <code class="docutils literal notranslate"><span class="pre">summary_icar.txt</span></code> est le résumé du modèle iCAR avec la moyenne, l’écart-type et les intervalles de crédibilité pour les paramètres du modèle.</p>
<div class="pst-scrollable-table-container"><table class="table" id="tab-parameters">
<caption><span class="caption-text">Résumé du modèle iCAR pour la période de calibration.</span><a class="headerlink" href="#tab-parameters" title="Lien vers ce tableau">#</a></caption>
<thead>
<tr class="row-odd"><th class="head"><p></p></th>
<th class="head"><p>Mean</p></th>
<th class="head"><p>Std</p></th>
<th class="head"><p>CI_low</p></th>
<th class="head"><p>CI_high</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>Intercept</p></td>
<td><p>-3.39</p></td>
<td><p>0.158</p></td>
<td><p>-3.7</p></td>
<td><p>-3.1</p></td>
</tr>
<tr class="row-odd"><td><p>C(pa) [T.1.0]</p></td>
<td><p>-0.0915</p></td>
<td><p>0.122</p></td>
<td><p>-0.282</p></td>
<td><p>0.172</p></td>
</tr>
<tr class="row-even"><td><p>scale(dist_edge)</p></td>
<td><p>-10.3</p></td>
<td><p>0.417</p></td>
<td><p>-11.1</p></td>
<td><p>-9.63</p></td>
</tr>
<tr class="row-odd"><td><p>scale(dist_road)</p></td>
<td><p>-0.256</p></td>
<td><p>0.0537</p></td>
<td><p>-0.36</p></td>
<td><p>-0.144</p></td>
</tr>
<tr class="row-even"><td><p>scale(dist_town)</p></td>
<td><p>0.0342</p></td>
<td><p>0.0464</p></td>
<td><p>-0.0551</p></td>
<td><p>0.123</p></td>
</tr>
<tr class="row-odd"><td><p>scale(dist_river)</p></td>
<td><p>-0.0817</p></td>
<td><p>0.0544</p></td>
<td><p>-0.188</p></td>
<td><p>0.0199</p></td>
</tr>
<tr class="row-even"><td><p>échelle(altitude)</p></td>
<td><p>-0.554</p></td>
<td><p>0.0809</p></td>
<td><p>-0.728</p></td>
<td><p>-0.4</p></td>
</tr>
<tr class="row-odd"><td><p>scale(slope)</p></td>
<td><p>-0.532</p></td>
<td><p>0.0392</p></td>
<td><p>-0.611</p></td>
<td><p>-0.457</p></td>
</tr>
<tr class="row-even"><td><p>Vrho</p></td>
<td><p>6.89</p></td>
<td><p>0.756</p></td>
<td><p>5.64</p></td>
<td><p>8.49</p></td>
</tr>
<tr class="row-odd"><td><p>Deviance</p></td>
<td><p>1.36e+04</p></td>
<td><p>24.9</p></td>
<td><p>1.36e+04</p></td>
<td><p>1.37e+04</p></td>
</tr>
</tbody>
</table>
</div>
<p>Le fichier <code class="docutils literal notranslate"><span class="pre">model_deviances.csv</span></code> comprend un tableau permettant de comparer le pourcentage de déviance expliquée entre les modèles.</p>
<div class="pst-scrollable-table-container"><table class="table" id="tab-deviances">
<caption><span class="caption-text">Pourcentage de déviance expliquée par les modèles pour la période de calibration.</span><a class="headerlink" href="#tab-deviances" title="Lien vers ce tableau">#</a></caption>
<thead>
<tr class="row-odd"><th class="head"><p>model</p></th>
<th class="head"><p>déviance</p></th>
<th class="head"><p>perc</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>nul</p></td>
<td><p>26769.0</p></td>
<td><p>0.0</p></td>
</tr>
<tr class="row-odd"><td><p>glm</p></td>
<td><p>16864.0</p></td>
<td><p>37.0</p></td>
</tr>
<tr class="row-even"><td><p>rf</p></td>
<td><p>6668.0</p></td>
<td><p>75.0</p></td>
</tr>
<tr class="row-odd"><td><p>icar</p></td>
<td><p>13636.0</p></td>
<td><p>49.0</p></td>
</tr>
<tr class="row-even"><td><p>full</p></td>
<td><p>0.0</p></td>
<td><p>100.0</p></td>
</tr>
</tbody>
</table>
</div>
</section>
<section id="id2">
<h3>Prédire le risque de déforestation<a class="headerlink" href="#id2" title="Lien vers cette rubrique">#</a></h3>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">Spatial</span> <span class="pre">cell</span> <span class="pre">size</span> <span class="pre">interpolation</span> <span class="pre">(km)</span></code>: 0.1.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">iCAR</span> <span class="pre">model</span></code> : Coché, calcule les prédictions avec le modèle iCAR.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">GLM</span></code> : Coché, calcule les prédictions avec GLM.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">RF</span> <span class="pre">model</span></code> : Coché, calcule les prédictions avec le modèle Random Forest.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">t1</span> <span class="pre">calibration</span></code> : Coché, calcule les prédictions à t1 en utilisant des modèles ajustés sur la période de calibration.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">t2</span> <span class="pre">validation</span></code> : Coché, calcule les prédictions à t2 pour la validation (en utilisant les modèles ajustés sur la période de calibration).</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">t1</span> <span class="pre">historical</span></code> : Coché, calcule les prédictions à t1 en utilisant des modèles ajustés sur la période historique.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">t3</span> <span class="pre">forecast</span></code> : Coché, calcule les prédictions à t3 pour les prévisions (en utilisant des modèles ajustés sur la période historique).</p></li>
</ul>
<div class="admonition warning">
<p class="admonition-title">Avertissement</p>
<p>Pour les grandes juridictions, afin d’éviter l’obtention d’un fichier raster volumineux (de type Float), fixer l’interpolation des effets aléatoires spatiaux à ~1km.</p>
</div>
<p>En appuyant sur le bouton <code class="docutils literal notranslate"><span class="pre">Run</span></code> dans cette boîte, les modèles statistiques seront utilisés pour les prédictions. Lorsque l’opération est terminée, des rasters représentant les classes de risque de déforestation apparaissent dans la liste des couches de QGIS. De nouveaux dossiers sont créés <code class="docutils literal notranslate"><span class="pre">outputs/far_models/validation</span></code> et <code class="docutils literal notranslate"><span class="pre">outputs/far_models/forecast</span></code>. Ils contiennent les tableaux <code class="docutils literal notranslate"><span class="pre">&lt;period&gt;/defrate_cat_&lt;model&gt;_&lt;period&gt;.csv</span></code> avec les taux de déforestation pour chaque classe de risque de déforestation (voir les détails <a class="reference external" href="plugin_api.html#defrate-table">ici</a>).</p>
<a class="reference internal image-reference" href="_images/qgis-far-results.png"><img alt="_images/qgis-far-results.png" src="_images/qgis-far-results.png" style="width: 650px;" />
</a>
</section>
</section>
<section id="moving-window-models">
<h2>Modèles à fenêtre mobile (MW models)<a class="headerlink" href="#moving-window-models" title="Lien vers cette rubrique">#</a></h2>
<img alt="_images/interface-mw.png" src="_images/interface-mw.png" />
<section id="id4">
<h3>Ajuster le modèle aux données<a class="headerlink" href="#id4" title="Lien vers cette rubrique">#</a></h3>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">Deforestation</span> <span class="pre">threshold</span> <span class="pre">(%)</span></code>: 99.5%</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">Max.</span> <span class="pre">distance</span> <span class="pre">to</span> <span class="pre">forest</span> <span class="pre">edge</span> <span class="pre">(m)</span></code>: 2500</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">Window</span> <span class="pre">sizes</span> <span class="pre">(#</span> <span class="pre">pixels)</span></code>: 11, 21</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">calib.</span> <span class="pre">period</span></code> : Si cette case est cochée, le modèle est ajusté sur la période d’étalonnage (t1–t2).</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">hist.</span> <span class="pre">period</span></code> : Si cette case est cochée, le modèle est ajusté sur la période historique (t1–t3).</p></li>
</ul>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Pour les grandes juridictions, si vous souhaitez réduire le temps de calcul, utilisez une seule taille de fenêtre mobile (par exemple 21 pixels).</p>
</div>
<p>Cliquez sur le bouton <code class="docutils literal notranslate"><span class="pre">Run</span></code> pour estimer le risque de déforestation avec le modèle de fenêtre mobile en utilisant les données de la période de calibration et de la période historique. De nouveaux dossiers contenant les résultats sont créés dans le répertoire <code class="docutils literal notranslate"><span class="pre">outputs/rmj_moving_window/</span></code>, y compris le fichier raster <code class="docutils literal notranslate"><span class="pre">&lt;period&gt;/ldefrate_mw_&lt;window_size&gt;.tif</span></code> avec les taux de déforestation locaux remis à l’échelle sur l’intervalle [2, 65535].</p>
</section>
<section id="id5">
<h3>Prédire le risque de déforestation<a class="headerlink" href="#id5" title="Lien vers cette rubrique">#</a></h3>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">t2</span> <span class="pre">validation</span></code> : Coché, calcule les prédictions à t2 pour la validation (en utilisant le modèle de fenêtre mobile ajusté sur la période de calibration).</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">t3</span> <span class="pre">forecast</span></code> : Coché, calcule les prédictions à t3 pour les prévisions (en utilisant le modèle de fenêtre mobile ajusté sur la période historique).</p></li>
</ul>
<p>Cliquez sur le bouton <code class="docutils literal notranslate"><span class="pre">Run</span></code> pour prédire le risque de déforestation à t2 et t3 en utilisant le modèle de fenêtre mobile. Les cartes avec les classes de risque de déforestation sont ajoutées à la liste des couches QGIS (voir l’image ci-dessous) et de nouveaux dossiers avec les résultats sont créés dans le répertoire <code class="docutils literal notranslate"><span class="pre">outputs/rmj_moving_window/</span></code>, y compris les tableaux <code class="docutils literal notranslate"><span class="pre">&lt;period&gt;/defrate_cat_mv_&lt;window_size&gt;_&lt;period&gt;.csv</span></code> avec les taux de déforestation pour chaque classe de risque de déforestation (voir les détails <a class="reference external" href="plugin_api.html#defrate-table">ici</a>).</p>
<a class="reference internal image-reference" href="_images/qgis-mw-results.png"><img alt="_images/qgis-mw-results.png" src="_images/qgis-mw-results.png" style="width: 650px;" />
</a>
</section>
</section>
<section id="validation">
<h2>Validation<a class="headerlink" href="#validation" title="Lien vers cette rubrique">#</a></h2>
<img alt="_images/interface-validation.png" src="_images/interface-validation.png" />
<p><br/></p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">Coarse</span> <span class="pre">grid</span> <span class="pre">cell</span> <span class="pre">size</span> <span class="pre">(#</span> <span class="pre">pixels)</span></code>: 50, 100</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">iCAR</span> <span class="pre">model</span></code>: Coché, estime la performance du modèle iCAR.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">GLM</span></code> : Coché, estime la performance du GLM.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">RF</span> <span class="pre">model</span></code> : Coché, estime la performance du modèle Random Forest.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">MW</span> <span class="pre">model</span></code> : Coché, estime la performance des modèles à fenêtre mobile.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">calib.</span> <span class="pre">period</span></code> : Coché, estime la performance des modèles pour la période de calibration (t1–t2).</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">valid.</span> <span class="pre">period</span></code> : Coché, estime la performance des modèles pour la période de validation (t2–t3).</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">hist.</span> <span class="pre">period</span></code> : Coché, estime la performance des modèles pour la période historique (t1–t3).</p></li>
</ul>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Pour les grandes juridictions, si vous souhaitez réduire le temps de calcul, n’utilisez qu’une seule taille de cellule (par exemple 100 pixels) et ne cochez que la période de validation, la seule qui comporte des observations indépendantes.</p>
</div>
<p>En appuyant sur le bouton <code class="docutils literal notranslate"><span class="pre">Run</span></code> dans cette boîte, on calcule la surface déforestée prédite dans chaque cellule de la grille pour chaque modèle et chaque période sélectionnés et on compare cette valeur à la surface déforestée observée pour la même cellule de la grille et la même période.</p>
<p>De nouveaux dossiers sont créés pour chaque période : <code class="docutils literal notranslate"><span class="pre">outputs/model_validation/&lt;period&gt;/figures</span></code> et <code class="docutils literal notranslate"><span class="pre">outputs/model_validation/&lt;period&gt;/tables</span></code>. Plusieurs fichiers de sortie sont ajoutés à chaque dossier.</p>
<p>Fichiers <code class="docutils literal notranslate"><span class="pre">figures/pred_obs_&lt;model&gt;_&lt;period&gt;_&lt;cell_size&gt;.png</span></code> qui contiennent une figure montrant la relation entre la surface déforestée prédite et la surface déforestée observée. La figure montre les valeurs de la surface déforestée prédite et observée dans chaque cellule de la grille sous forme de points et la première bissectrice (ligne 1-1). La figure indique également le nombre de cellules de la grille (équivalent au nombre de points) et les valeurs de deux des indices de performance : le <span class="math notranslate nohighlight">\(R^{2}\)</span> et le MedAE.</p>
<a class="reference internal image-reference" href="_images/pred_obs_icar_validation_50.png"><img alt="_images/pred_obs_icar_validation_50.png" src="_images/pred_obs_icar_validation_50.png" style="width: 600px;" />
</a>
<p>Le fichier <code class="docutils literal notranslate"><span class="pre">outputs/model_validation/indices_all.csv</span></code> comprend un tableau avec les indices de performance pour toutes les tailles de cellules de validation, tous les modèles et toutes les périodes. Dans cet exemple, le modèle Random Forest et le modèle iCAR sont tous deux meilleurs que le modèle de référence, quels que soient les indices de performance considérés. Le modèle iCAR est le meilleur modèle car il a l’indice MedAE le plus faible, le RMSE le plus faible et le <span class="math notranslate nohighlight">\(R^{2}\)</span> le plus élevé pour la période de validation qui est la seule période avec des données indépendantes (c’est-à-dire qui n’ont pas été utilisées pour calibrer les modèles). Ceci est vrai quelle que soit la taille de la cellule de validation choisie.</p>
<div class="pst-scrollable-table-container"><table class="table" id="tab-indices">
<caption><span class="caption-text">Indices de performance.</span><a class="headerlink" href="#tab-indices" title="Lien vers ce tableau">#</a></caption>
<thead>
<tr class="row-odd"><th class="head"><p>csize_coarse_grid</p></th>
<th class="head"><p>csize_coarse_grid_ha</p></th>
<th class="head"><p>ncell</p></th>
<th class="head"><p>period</p></th>
<th class="head"><p>model</p></th>
<th class="head"><p>MedAE</p></th>
<th class="head"><p>R2</p></th>
<th class="head"><p>RMSE</p></th>
<th class="head"><p>wRMSE</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>50</p></td>
<td><p>225.0</p></td>
<td><p>604</p></td>
<td><p>validation</p></td>
<td><p>bm</p></td>
<td><p>2.71</p></td>
<td><p>0.43</p></td>
<td><p>6.08</p></td>
<td><p>6.22</p></td>
</tr>
<tr class="row-odd"><td><p>50</p></td>
<td><p>225.0</p></td>
<td><p>604</p></td>
<td><p>validation</p></td>
<td><p>icar</p></td>
<td><p>1.78</p></td>
<td><p>0.65</p></td>
<td><p>4.79</p></td>
<td><p>4.59</p></td>
</tr>
<tr class="row-even"><td><p>50</p></td>
<td><p>225.0</p></td>
<td><p>604</p></td>
<td><p>validation</p></td>
<td><p>glm</p></td>
<td><p>2.39</p></td>
<td><p>0.38</p></td>
<td><p>6.39</p></td>
<td><p>6.52</p></td>
</tr>
<tr class="row-odd"><td><p>50</p></td>
<td><p>225.0</p></td>
<td><p>604</p></td>
<td><p>validation</p></td>
<td><p>rf</p></td>
<td><p>2.09</p></td>
<td><p>0.50</p></td>
<td><p>5.69</p></td>
<td><p>5.74</p></td>
</tr>
<tr class="row-even"><td><p>50</p></td>
<td><p>225.0</p></td>
<td><p>604</p></td>
<td><p>validation</p></td>
<td><p>mw_11</p></td>
<td><p>2.34</p></td>
<td><p>0.56</p></td>
<td><p>7.66</p></td>
<td><p>6.83</p></td>
</tr>
<tr class="row-odd"><td><p>50</p></td>
<td><p>225.0</p></td>
<td><p>604</p></td>
<td><p>validation</p></td>
<td><p>mw21</p></td>
<td><p>2.51</p></td>
<td><p>0.56</p></td>
<td><p>7.54</p></td>
<td><p>6.66</p></td>
</tr>
</tbody>
</table>
</div>
</section>
<section id="allocating-deforestation">
<h2>Attribution de la déforestation<a class="headerlink" href="#allocating-deforestation" title="Lien vers cette rubrique">#</a></h2>
<img alt="_images/interface-allocation.png" src="_images/interface-allocation.png" />
<p><br/></p>
<p>La carte du risque de déforestation obtenue avec le modèle iCAR à t3 peut être utilisée pour allouer la déforestation après l’année 2020. La carte de risque avec les classes de déforestation de 1 à 65535 et le tableau <code class="docutils literal notranslate"><span class="pre">defrate_cat_icar_forecast.csv</span></code> avec les taux de déforestation pour chaque classe de risque sont tous deux nécessaires pour allouer la déforestation dans le futur.</p>
<p>Le tableau n’inclut que les valeurs de <code class="docutils literal notranslate"><span class="pre">rate_mod</span></code>, les taux relatifs de déforestation spatiale du modèle iCAR estimés sur la période historique. Comme pour l’étape de validation, la déforestation relative doit être ajustée en tenant compte de la déforestation absolue (en ha) attendue dans le futur.</p>
<div class="pst-scrollable-table-container"><table class="table" id="tab-defrate-icar-forecast">
<caption><span class="caption-text">Taux de déforestation pour les classes du modèle iCAR pour la prévision de la déforestation.</span><a class="headerlink" href="#tab-defrate-icar-forecast" title="Lien vers ce tableau">#</a></caption>
<thead>
<tr class="row-odd"><th class="head"><p>cat</p></th>
<th class="head"><p>nfor</p></th>
<th class="head"><p>ndefor</p></th>
<th class="head"><p>rate_obs</p></th>
<th class="head"><p>rate_mod</p></th>
<th class="head"><p>rate_abs</p></th>
<th class="head"><p>time_interval</p></th>
<th class="head"><p>pixel_area</p></th>
<th class="head"><p>defor_dens</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>1</p></td>
<td><p>137575</p></td>
<td><p>0</p></td>
<td><p>0.0</p></td>
<td><p>1e-06</p></td>
<td><p>0.0</p></td>
<td><p>20</p></td>
<td><p>0.09</p></td>
<td><p>0.0</p></td>
</tr>
<tr class="row-odd"><td><p>2</p></td>
<td><p>5425</p></td>
<td><p>0</p></td>
<td><p>0.0</p></td>
<td><p>1.6259239478743857e-05</p></td>
<td><p>0.0</p></td>
<td><p>20</p></td>
<td><p>0.09</p></td>
<td><p>0.0</p></td>
</tr>
<tr class="row-even"><td><p>3</p></td>
<td><p>3523</p></td>
<td><p>0</p></td>
<td><p>0.0</p></td>
<td><p>3.151847895748772e-05</p></td>
<td><p>0.0</p></td>
<td><p>20</p></td>
<td><p>0.09</p></td>
<td><p>0.0</p></td>
</tr>
<tr class="row-odd"><td><p>4</p></td>
<td><p>2458</p></td>
<td><p>0</p></td>
<td><p>0.0</p></td>
<td><p>4.677771843623157e-05</p></td>
<td><p>0.0</p></td>
<td><p>20</p></td>
<td><p>0.09</p></td>
<td><p>0.0</p></td>
</tr>
<tr class="row-even"><td><p>5</p></td>
<td><p>2078</p></td>
<td><p>0</p></td>
<td><p>0.0</p></td>
<td><p>6.203695791497542e-05</p></td>
<td><p>0.0</p></td>
<td><p>20</p></td>
<td><p>0.09</p></td>
<td><p>0.0</p></td>
</tr>
</tbody>
</table>
</div>
<p>En considérant une déforestation totale <span class="math notranslate nohighlight">\(D\)</span> (en ha) pour les <span class="math notranslate nohighlight">\(Y\)</span> prochaines années au niveau juridictionnel, le facteur d’ajustement est :math:rho = D / (A sum_i n_{i} theta_{m,i})`, avec <span class="math notranslate nohighlight">\(A\)</span> la surface du pixel en ha, le taux absolu est :math:theta_{a,i} = rho theta_{m,i}`, et la densité de déforestation est :math:delta_{i} = theta_{a,i} n- fois A / Y`. La densité de déforestation :math:delta_{i}` est utilisée pour prédire la quantité de déforestation (en ha/an) pour chaque pixel forestier appartenant à une classe donnée de risque de déforestation pour les prochaines <span class="math notranslate nohighlight">\(Y\)</span> années (pour les notations, voir les détails <a class="reference external" href="plugin_api.html#defrate-table">ici</a>).</p>
<p>La carte de risque ainsi que le tableau des densités de déforestation calculées peuvent être utilisés pour <a class="reference external" href="https://verra.org/verra-launches-unplanned-deforestation-allocation-tool-vt0007-issues-call-for-supplementary-materials/">allouer proportionnellement des fractions</a> de la déforestation attendues au sein de la juridiction (dans le contexte de <a class="reference external" href="https://verra.org/methodologies/vmd0055-estimation-of-emission-reductions-from-avoiding-unplanned-deforestation-v1-0/">VMD0055</a>) ou du FREL de la juridiction (dans le contexte du VCS <a class="reference external" href="https://verra.org/programs/jurisdictional-nested-redd-framework/">Jurisdictional and Nested REDD+</a> Framework) aux projets ou programmes mis en œuvre au sein de la juridiction. Pour ce faire, un tableau avec le nombre de pixels pour chaque classe de risque de déforestation dans la zone de projet doit être calculé.</p>
<figure class="align-default" id="id10">
<a class="reference internal image-reference" href="_images/allocation.png"><img alt="_images/allocation.png" src="_images/allocation.png" style="width: 600px;" />
</a>
<figcaption>
<p><span class="caption-text">Attribution de la déforestation à des projets au sein de la juridiction.</span><a class="headerlink" href="#id10" title="Lien vers cette image">#</a></p>
</figcaption>
</figure>
<p>Le plugin QGIS <code class="docutils literal notranslate"><span class="pre">deforisk</span></code> inclut un utilitaire pour faciliter l’allocation de la déforestation aux projets. Avant de l’utiliser, vous pouvez télécharger le fichier vectoriel définissant les frontières d’un faux projet en Martinique (<a class="reference external" href="_static/get_started/project_borders_MTQ_jurisdiction.gpkg">project_borders_MTQ_jurisdiction.gpkg</a>).</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">Juris.</span> <span class="pre">risk</span> <span class="pre">map</span></code> : Fichier <code class="docutils literal notranslate"><span class="pre">prob_icar_t3.tif</span></code> correspondant à la meilleure carte de risque.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">Table.</span> <span class="pre">with</span> <span class="pre">defor.</span> <span class="pre">rates</span></code> : Fichier <code class="docutils literal notranslate"><span class="pre">defrate_cat_icar_forecast.csv</span></code> pour la table avec les taux de déforestation du modèle icar à t3 pour chaque classe de risque de déforestation.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">Projet</span> <span class="pre">borders</span></code> : Fichier <code class="docutils literal notranslate"><span class="pre">projet_borders_MTQ_jurisdiction.gpkg</span></code>.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">Juris.</span> <span class="pre">deforestation</span> <span class="pre">(ha)</span></code> : 4000. Environ 400 ha ont été déforestés chaque année en 2010–2020 en Martinique.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">Length</span> <span class="pre">forecast</span> <span class="pre">period</span> <span class="pre">(yr)</span></code>: 10.</p></li>
</ul>
<p>En appuyant sur le bouton <code class="docutils literal notranslate"><span class="pre">Run</span></code> dans cette boîte, on calcule le facteur d’ajustement et la densité de déforestation pour chaque classe de risque en utilisant la déforestation totale prévue au niveau de la juridiction (<span class="math notranslate nohighlight">\(D=4000\)</span>) et les taux de déforestation spatiaux relatifs du modèle. Ensuite, la carte de risque avec les classes de risque de déforestation est découpée aux limites du projet et le nombre de pixels de forêt dans chaque classe de risque est calculé au niveau du projet. Enfin, la déforestation prévue au niveau du projet est obtenue en additionnant les densités de déforestation de chaque pixel au sein du projet.</p>
<p>Un dossier <code class="docutils literal notranslate"><span class="pre">outputs/allocating_deforestation</span></code> est créé avec le fichier <code class="docutils literal notranslate"><span class="pre">defor_project.csv</span></code> indiquant la déforestation prévue (106,7 ha) pour la période 2020–2030 pour le projet :</p>
<div class="pst-scrollable-table-container"><table class="table" id="id11">
<caption><span class="caption-text">Déforestation allouée au projet.</span><a class="headerlink" href="#id11" title="Lien vers ce tableau">#</a></caption>
<thead>
<tr class="row-odd"><th class="head"><p>period</p></th>
<th class="head"><p>length (yr)</p></th>
<th class="head"><p>deforestation (ha)</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>annual</p></td>
<td><p>1.0</p></td>
<td><p>10.7</p></td>
</tr>
<tr class="row-odd"><td><p>entire</p></td>
<td><p>10.0</p></td>
<td><p>106.9</p></td>
</tr>
</tbody>
</table>
</div>
</section>
<section id="conclusion">
<h2>Conclusion<a class="headerlink" href="#conclusion" title="Lien vers cette rubrique">#</a></h2>
</section>
</section>


                </article>
              
              
              
              
              
                <footer class="prev-next-footer d-print-none">
                  
<div class="prev-next-area">
    <a class="left-prev"
       href="installation.html"
       title="page précédente">
      <i class="fa-solid fa-angle-left"></i>
      <div class="prev-next-info">
        <p class="prev-next-subtitle">précédent</p>
        <p class="prev-next-title">Installation</p>
      </div>
    </a>
    <a class="right-next"
       href="articles.html"
       title="page suivante">
      <div class="prev-next-info">
        <p class="prev-next-subtitle">suivant</p>
        <p class="prev-next-title">Articles</p>
      </div>
      <i class="fa-solid fa-angle-right"></i>
    </a>
</div>
                </footer>
              
            </div>
            
            
              
                <dialog id="pst-secondary-sidebar-modal"></dialog>
                <div id="pst-secondary-sidebar" class="bd-sidebar-secondary bd-toc"><div class="sidebar-secondary-items sidebar-secondary__inner">


  <div class="sidebar-secondary-item">
<div
    id="pst-page-navigation-heading-2"
    class="page-toc tocsection onthispage">
    <i class="fa-solid fa-list"></i> Sur cette page
  </div>
  <nav class="bd-toc-nav page-toc" aria-labelledby="pst-page-navigation-heading-2">
    <ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#introduction">Introduction</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#get-variables">Get variables</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#benchmark-model">Modèle de référence</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#fit-model-to-data">Ajuster le modèle aux données</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#predict-the-deforestation-risk">Prédire le risque de déforestation</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#forestatrisk-models">Modèles forestatrisk</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#sample-observations">Sample observations</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#id1">Ajuster le modèle aux données</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#id2">Prédire le risque de déforestation</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#moving-window-models">Modèles à fenêtre mobile (MW models)</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#id4">Ajuster le modèle aux données</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#id5">Prédire le risque de déforestation</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#validation">Validation</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#allocating-deforestation">Attribution de la déforestation</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#conclusion">Conclusion</a></li>
</ul>
  </nav></div>

</div></div>
              
            
          </div>
          <footer class="bd-footer-content">
            
          </footer>
        
      </main>
    </div>
  </div>
  
  <!-- Scripts loaded after <body> so the DOM is not blocked -->
  <script defer src="_static/scripts/bootstrap.js?digest=8878045cc6db502f8baf"></script>
<script defer src="_static/scripts/pydata-sphinx-theme.js?digest=8878045cc6db502f8baf"></script>

  <footer class="bd-footer">
<div class="bd-footer__inner bd-page-width">
  
    <div class="footer-items__start">
      
        <div class="footer-item">

  <p class="copyright">
    
      © Copyright 2025, Cirad and FAO.
      <br/>
    
  </p>
</div>
      
    </div>
  
  
    <div class="footer-items__center">
      
        <div class="footer-item">

  <p class="sphinx-version">
    Créé en utilisant <a href="https://www.sphinx-doc.org/">Sphinx</a> 8.1.3.
    <br/>
  </p>
</div>
      
    </div>
  
  
    <div class="footer-items__end">
      
        <div class="footer-item">
<p class="theme-version">
  <!-- # L10n: Setting the PST URL as an argument as this does not need to be localized -->
  Construit avec le <a href="https://pydata-sphinx-theme.readthedocs.io/en/stable/index.html">thème PyData Sphinx</a> 0.16.1.
</p></div>
      
    </div>
  
</div>

  </footer>
  </body>
</html>